<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.Boolean?>
<?import java.lang.Double?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<?import org.controlsfx.control.CheckComboBox?>

<!-- ========== -->
<!--    Root    -->
<!-- ========== -->

<BorderPane
    xmlns="http://javafx.com/javafx"
    xmlns:fx="http://javafx.com/fxml"
    fx:controller="io.github.altoukhovmax.rates.gui.controller.MainViewController">

    <padding>
        <Insets topRightBottomLeft="7.0"/>
    </padding>

    <!-- =============== -->
    <!--    Constants    -->
    <!-- =============== -->

    <fx:define>
        <Boolean fx:id="COLUMNS_EDITABLE" fx:value="false"/>
        <Boolean fx:id="DATE_PICKERS_EDITABLE" fx:value="false"/>
        <Double fx:id="GRID_VGAP" fx:value="10.0"/>
        <Double fx:id="GRID_HGAP" fx:value="8.0"/>
        <Double fx:id="LABEL_PREF_WIDTH" fx:value="100.0"/>
        <Double fx:id="INPUT_PREF_WIDTH" fx:value="120.0"/>
        <Double fx:id="ACTION_BUTTON_PREF_WIDTH" fx:value="50.0"/>
    </fx:define>

    <!-- =============== -->
    <!--    Data View    -->
    <!-- =============== -->

    <center>
        <TableView fx:id="dataView">
            <placeholder>
                <Label text="Seems like there is nothing to display..."/>
            </placeholder>
            <columns>
                <TableColumn fx:id="baseColumn" text="Base" editable="$COLUMNS_EDITABLE"/>
                <TableColumn fx:id="targetColumn" text="Target" editable="$COLUMNS_EDITABLE"/>
                <TableColumn fx:id="rateColumn" text="Rate" editable="$COLUMNS_EDITABLE"/>
                <TableColumn fx:id="dateColumn" text="Date" editable="$COLUMNS_EDITABLE"/>
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
            </columnResizePolicy>
        </TableView>
    </center>

    <!-- =========================== -->
    <!--    Request Customization    -->
    <!-- =========================== -->

    <right>
        <VBox spacing="7.0">
            <BorderPane.margin>
                <Insets left="5.0"/>
            </BorderPane.margin>

            <Separator/>

            <!-- ================ -->
            <!--    Currencies    -->
            <!-- ================ -->

            <GridPane hgap="$GRID_HGAP" vgap="$GRID_VGAP">
                <Label GridPane.rowIndex="0" GridPane.columnIndex="0" text="Base currency:" prefWidth="$LABEL_PREF_WIDTH"/>
                <ComboBox fx:id="baseSelector" GridPane.rowIndex="0" GridPane.columnIndex="1" prefWidth="$INPUT_PREF_WIDTH"/>
                <Label GridPane.rowIndex="1" GridPane.columnIndex="0" text="Target currencies:" prefWidth="$LABEL_PREF_WIDTH"/>
                <CheckComboBox fx:id="targetSelector" GridPane.rowIndex="1" GridPane.columnIndex="1" prefWidth="$INPUT_PREF_WIDTH"/>
                <CheckBox fx:id="allRatesCheckbox" GridPane.rowIndex="2" GridPane.columnIndex="1" text="All" prefWidth="$INPUT_PREF_WIDTH"/>
            </GridPane>

            <Separator/>

            <!-- ================ -->
            <!--    Time Frame    -->
            <!-- ================ -->

            <GridPane hgap="$GRID_HGAP" vgap="$GRID_VGAP">
                <Label GridPane.rowIndex="0" GridPane.columnIndex="0" text="Time frame:" prefWidth="$LABEL_PREF_WIDTH"/>
                <RadioButton fx:id="specificDatePanelToggle" GridPane.rowIndex="0" GridPane.columnIndex="1" text="Specific date" prefWidth="$INPUT_PREF_WIDTH">
                    <toggleGroup>
                        <ToggleGroup fx:id="panelSelectionToggleGroup"/>
                    </toggleGroup>
                </RadioButton>
                <RadioButton fx:id="dateSeriesPanelToggle" GridPane.rowIndex="1" GridPane.columnIndex="1" text="Date series" prefWidth="$INPUT_PREF_WIDTH">
                    <toggleGroup>
                        <fx:reference source="panelSelectionToggleGroup"/>
                    </toggleGroup>
                </RadioButton>
            </GridPane>

            <AnchorPane>
                <GridPane fx:id="specificDatePanel" hgap="$GRID_HGAP" vgap="$GRID_VGAP" visible="false">
                    <Label GridPane.rowIndex="0" GridPane.columnIndex="0" text="Date:" prefWidth="$LABEL_PREF_WIDTH"/>
                    <DatePicker fx:id="specificDatePicker" GridPane.rowIndex="0" GridPane.columnIndex="1" prefWidth="$INPUT_PREF_WIDTH" editable="$DATE_PICKERS_EDITABLE"/>
                    <CheckBox fx:id="latestDateCheckbox" GridPane.rowIndex="1" GridPane.columnIndex="1" text="Latest" prefWidth="$INPUT_PREF_WIDTH"/>
                </GridPane>
                <GridPane fx:id="dateSeriesPanel" hgap="$GRID_HGAP" vgap="$GRID_VGAP" visible="false">
                    <Label GridPane.rowIndex="0" GridPane.columnIndex="0" text="Start:" prefWidth="$LABEL_PREF_WIDTH"/>
                    <DatePicker fx:id="seriesStartDatePicker" GridPane.rowIndex="0" GridPane.columnIndex="1" prefWidth="$INPUT_PREF_WIDTH" editable="$DATE_PICKERS_EDITABLE"/>
                    <Label GridPane.rowIndex="1" GridPane.columnIndex="0" text="End:" prefWidth="$LABEL_PREF_WIDTH"/>
                    <DatePicker fx:id="seriesEndDatePicker" GridPane.rowIndex="1" GridPane.columnIndex="1" prefWidth="$INPUT_PREF_WIDTH" editable="$DATE_PICKERS_EDITABLE"/>
                    <CheckBox fx:id="upToPresentCheckbox" GridPane.rowIndex="2" GridPane.columnIndex="1" text="Up to present" prefWidth="$INPUT_PREF_WIDTH"/>
                </GridPane>
            </AnchorPane>

            <Region VBox.vgrow="ALWAYS"/>
            <Separator/>

            <!-- ==============-->
            <!--    Actions    -->
            <!-- ==============-->

            <HBox spacing="5.0" alignment="CENTER_RIGHT">
                <Button text="About" onAction="#onAboutButtonPress" prefWidth="$ACTION_BUTTON_PREF_WIDTH"/>
                <Separator orientation="VERTICAL"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Reset" onAction="#onResetButtonPress" prefWidth="$ACTION_BUTTON_PREF_WIDTH"/>
                <Button text="Go" onAction="#onGoButtonPress" prefWidth="$ACTION_BUTTON_PREF_WIDTH"/>
            </HBox>

        </VBox>
    </right>

</BorderPane>
